<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Login - Emery Campbell Consulting</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
}

body{
font-family:'Montserrat',sans-serif;
background:linear-gradient(135deg,#000000 0%,#1a1a1a 100%);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
padding:20px;
}

.auth-container{
background:#F5F1E8;
width:100%;
max-width:520px;
padding:60px 50px;
border-radius:16px;
box-shadow:0 20px 60px rgba(193,154,107,0.25);
}

.logo{
text-align:center;
margin-bottom:40px;
}

.logo h1{
font-family:'Cormorant Garamond',serif;
color:#8B7355;
font-size:2.8rem;
letter-spacing:0.1em;
}

.logo p{
color:#666;
font-size:0.9rem;
}

h2{
text-align:center;
margin-bottom:35px;
font-size:1.6rem;
color:#333;
}

.form-group{
margin-bottom:18px;
}

input{
width:100%;
padding:16px;
border:1px solid #D0C8BC;
border-radius:10px;
font-size:1rem;
transition:0.3s ease;
}

input:focus{
outline:none;
border-color:#C19A6B;
box-shadow:0 0 0 3px rgba(193,154,107,0.15);
}

.submit-btn{
width:100%;
padding:18px;
margin-top:10px;
background:linear-gradient(135deg,#C19A6B 0%,#8B7355 100%);
color:#fff;
border:none;
border-radius:10px;
font-size:1rem;
font-weight:600;
text-transform:uppercase;
cursor:pointer;
}

.submit-btn:hover{
opacity:0.95;
}

.message{
margin-top:15px;
text-align:center;
font-size:0.9rem;
min-height:20px;
font-weight:500;
}

.error{color:#c0392b;}
.success{color:#27ae60;}

.signup-link{
text-align:center;
margin-top:20px;
font-size:0.9rem;
}

.signup-link a{
color:#8B7355;
text-decoration:none;
font-weight:600;
}
</style>
</head>

<body>

<div class="auth-container">

<div class="logo">
<h1>EMERY CAMPBELL</h1>
<p>Consulting</p>
</div>

<h2>Secure Client Login</h2>

<form id="loginForm">
<div class="form-group">
<input type="email" id="email" placeholder="Email Address" required>
</div>

<div class="form-group">
<input type="password" id="password" placeholder="Password" required>
</div>

<button type="submit" class="submit-btn">Login</button>
<div id="formMessage" class="message"></div>
</form>

<div class="signup-link">
Donâ€™t have an account? <a href="signup.html">Create one</a>
</div>

</div>

<script>
document.getElementById("loginForm").addEventListener("submit", function(e){
e.preventDefault();

const email = document.getElementById("email").value.trim().toLowerCase();
const password = document.getElementById("password").value.trim();
const message = document.getElementById("formMessage");

message.textContent = "";
message.className = "message";

let users = JSON.parse(localStorage.getItem("users")) || [];

const user = users.find(u => u.email === email && u.password === password);

if(!user){
message.textContent = "Invalid email or password.";
message.classList.add("error");
return;
}

/* Save current user */
localStorage.setItem("currentUser", JSON.stringify(user));

message.textContent = "Login successful...";
message.classList.add("success");

/* ðŸ”¥ REDIRECT LOGIC */
setTimeout(() => {

const redirect = localStorage.getItem("redirectAfterLogin");

if(redirect){
localStorage.removeItem("redirectAfterLogin");
window.location.href = redirect;
return;
}

if(user.role === "admin"){
window.location.href = "admin.html";
} else {
window.location.href = "account.html";
}

}, 800);

});
</script>

</body>
</html>
